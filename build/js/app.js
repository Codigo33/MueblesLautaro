import{galeriaDB,cajoneras,cocina,comodas,escaleras,escritorios,modulos,placard,racks,tv,wc}from"./db.js";document.addEventListener("DOMContentLoaded",(()=>{document.querySelector("#listaProductos")&&galeriaProductos({selector:"#listaProductos",db:galeriaDB,imgPath:"build/img"}),document.querySelector("#cajoneras")&&galeriaProductos({selector:"#cajoneras",db:cajoneras,imgPath:"../build/img/cajoneras"}),document.querySelector("#cocina")&&galeriaProductos({selector:"#cocina",db:cocina,imgPath:"../build/img/cocina"}),document.querySelector("#comodas")&&galeriaProductos({selector:"#comodas",db:comodas,imgPath:"../build/img/comodas"}),document.querySelector("#escaleras")&&galeriaProductos({selector:"#escaleras",db:escaleras,imgPath:"../build/img/escaleras"}),document.querySelector("#escritorios")&&galeriaProductos({selector:"#escritorios",db:escritorios,imgPath:"../build/img/escritorios"}),document.querySelector("#modulos")&&galeriaProductos({selector:"#modulos",db:modulos,imgPath:"../build/img/modulos"}),document.querySelector("#placard")&&galeriaProductos({selector:"#placard",db:placard,imgPath:"../build/img/placard"}),document.querySelector("#racks")&&galeriaProductos({selector:"#racks",db:racks,imgPath:"../build/img/racks"}),document.querySelector("#tv")&&galeriaProductos({selector:"#tv",db:tv,imgPath:"../build/img/tv"}),document.querySelector("#wc")&&galeriaProductos({selector:"#wc",db:wc,imgPath:"../build/img/wc"})}));const overlay=document.getElementById("nav-overlay"),toggle=document.getElementById("nav-toggle"),nav=document.getElementById("nav-menu"),toggleMenu=()=>{const e=nav.classList.toggle("show");overlay.style.display=e?"block":"none",document.body.style.overflow=e?"hidden":"auto",toggle.setAttribute("aria-expanded",e),nav.setAttribute("aria-hidden",!e)};function galeriaProductos({selector:e,db:o,imgPath:t}){const a=document.querySelector(e);o.forEach((e=>{const o=document.createElement("LI");o.classList.add("container__list");const r=`https://api.whatsapp.com/send?phone=5491126679879&text=${encodeURIComponent("Hola,cómo estás? para saber sobre un presupuesto.")}`;o.innerHTML=`\n            <div class="container__producto">\n                <picture>\n                    <img class="producto__imagen" width="200" height="150" src="${t}/${e.image}.webp" alt="${e.name}" loading="lazy">\n                </picture>\n                <p class="producto__description">${e.description}</p>\n                <a href="${r}" class="btn-comprar" target="_blank">\n                    Comprar\n                </a>\n            </div>\n        `,handleImageHover(o,e.image,e.hoverImg,t);const c=o.querySelector(".producto__imagen");c.addEventListener("click",(()=>{crearImgOverlay(c.src)})),a.appendChild(o)}))}function handleImageHover(e,o,t,a){const r=e.querySelector(".producto__imagen");r.addEventListener("mouseover",(()=>{r.classList.add("fade-out"),setTimeout((()=>{r.src=`${a}/${t}.webp`,r.classList.remove("fade-out")}),200)})),r.addEventListener("mouseout",(()=>{r.classList.add("fade-out"),setTimeout((()=>{r.src=`${a}/${o}.webp`,r.classList.remove("fade-out")}),200)}))}function crearImgOverlay(e){document.body.style.overflow="hidden";const o=document.createElement("DIV");o.classList.add("overlay");const t=document.createElement("IMG");t.src=e,t.classList.add("imagen__grande"),o.appendChild(t),document.body.appendChild(o);const a=()=>{document.body.removeChild(o),document.body.style.overflow="",document.removeEventListener("keydown",r)};o.addEventListener("click",(e=>{e.target===o&&a()}));const r=e=>{"Escape"===e.key&&a()};document.addEventListener("keydown",r)}toggle&&nav&&overlay&&(toggle.addEventListener("click",toggleMenu),overlay.addEventListener("click",toggleMenu)),document.addEventListener("keydown",(e=>{"Escape"===e.key&&nav.classList.contains("show")&&toggleMenu()}));const sr=ScrollReveal({reset:!0,origin:"bottom",distance:"200px",duration:1200,delay:250});sr.reveal(".productos__header",{origin:"top"}),sr.reveal(".lista__productos",{delay:550});